@import url('https://fonts.googleapis.com/css2?family=Noto+Kufi+Arabic:wght@400;500;600;700;800;900&family=Noto+Sans:ital,wght@0,100..900;1,100..900&display=swap');

@import "tailwindcss";
@plugin "@tailwindcss/typography";
@plugin "daisyui" {
    themes: false;
}

@source "../../../../../submodules/core/app/views/**/*.html.erb";
@source "../../../../../app/views/**/*.html.erb";

/* Safelist the specific margin classes we need for the dashboard layout */
@source inline("ltr:ml-[316px]");
@source inline("ltr:mr-4");
@source inline("rtl:mr-[316px]");
@source inline("rtl:ml-4");


@plugin "daisyui/theme" {
    name: "light";
    default: true;
    prefersdark: false;
    color-scheme: "light";
    --color-base-100: rgb(249 250 251);
    --color-base-200: oklch(98% 0 0);
    --color-base-300: oklch(95% 0 0);
    --color-base-content: oklch(21% 0.006 285.885);
    --color-primary: #316bff;
    --color-primary-content: oklch(93% 0.034 272.788);
    --color-secondary: oklch(65% 0.241 354.308);
    --color-secondary-content: oklch(94% 0.028 342.258);
    --color-accent: oklch(77% 0.152 181.912);
    --color-accent-content: oklch(38% 0.063 188.416);
    --color-neutral: oklch(14% 0.005 285.823);
    --color-neutral-content: oklch(92% 0.004 286.32);
    --color-info: oklch(74% 0.16 232.661);
    --color-info-content: oklch(29% 0.066 243.157);
    --color-success: oklch(76% 0.177 163.223);
    --color-success-content: oklch(37% 0.077 168.94);
    --color-warning: oklch(82% 0.189 84.429);
    --color-warning-content: oklch(41% 0.112 45.904);
    --color-error: oklch(71% 0.194 13.428);
    --color-error-content: oklch(27% 0.105 12.094);
    --radius-selector: 1rem;
    --radius-field: 0.5rem;
    --radius-box: 1rem;
    --size-selector: 0.21875rem;
    --size-field: 0.21875rem;
    --border: 1px;
    --depth: 0;
    --noise: 0;
}


@custom-variant dark (&:where(.dark, .dark *));

@theme{
    --color-primary: #316bff;
    --color-border: #e2e8f0;
    --color-input: #e2e8f0;
    --color-input-focus: #5BBEDC;
    --color-input-focus-ring: #E2F4FA;
    --color-error: #E56B6B;
    --color-muted: #f1f5f9;
    --color-muted-foreground: #64748b,
}

/* Font family selector based on language */
html[dir="rtl"] body,
html[lang^="ar"] body {
    font-family: "Noto Kufi Arabic", "Noto Sans", sans-serif;
}

html[dir="ltr"] body,
html[lang="en"] body {
    font-family: "Noto Sans", sans-serif;
}

@layer base {

    body {
        font-optical-sizing: auto;
        font-weight: normal;
        font-style: normal;
        font-variation-settings: "wdth" 100;
    }

    *,
    ::after,
    ::before,
    ::backdrop,
    ::file-selector-button {
        @apply border-base-300
    }

    h1 {
        @apply text-3xl font-bold;
    }

    h2 {
        @apply text-xl font-bold;
    }

    h3 {
        @apply text-lg font-medium;
    }

    label {
        @apply block text-sm font-medium mb-1 opacity-80;
    }

    input[type="text"],
    input[type="email"],
    input[type="password"],
    input[type="number"],
    input[type="url"],
    textarea {
        @apply flex h-10 w-full rounded-md bg-white border border-input px-3 py-2 text-sm;
        @apply focus:border-input-focus focus-visible:outline-none focus-visible:ring-2 focus:ring-input-focus-ring focus-visible:ring-offset-2;
        @apply disabled:cursor-not-allowed disabled:opacity-50;
    }

    /* Adjust height for textarea */
    textarea {
        @apply h-auto;
    }

    .dropdown-list {
        @apply absolute bg-base-100 rounded-md z-[1] w-56 !p-0 overflow-hidden shadow;

        a {
            @apply flex justify-between font-normal rounded-none;
        }

        i {
            @apply h-5 text-xl;
        }

        button {
            @apply flex justify-between w-full;
        }
    }

    .vertical-text {
        writing-mode: vertical-rl;
        transform: rotate(180deg);
        text-orientation: mixed;
        white-space: nowrap;
    }
}

input[type="color"] {
    -webkit-appearance: none;
    border: none;
    background: #E2F4FA
}

input[type="color"]::-webkit-color-swatch-wrapper {
    padding: 0;
}

input[type="color"]::-webkit-color-swatch {
    border: none;
}


.pagy {
    @apply flex ltr:space-x-1 rtl:space-x-reverse font-semibold text-sm text-gray-500;

    a:not(.gap) {
        @apply block rounded-lg px-3 py-1 bg-gray-200;

        &:hover {
            @apply bg-gray-300;
        }

        &:not([href]) { /* disabled links */
            @apply text-gray-300 bg-gray-100 cursor-default;
        }

        &.current {
            @apply text-white bg-gray-400;
        }
    }

    label {
        @apply inline-block whitespace-nowrap bg-gray-200 rounded-lg px-3 py-0.5;

        input {
            @apply bg-gray-100 border-none rounded-md;
        }
    }
}

/* Explicit margin utilities for dashboard layout */
@layer utilities {
  [dir="ltr"] .ltr\:ml-\[316px\] {
    margin-left: 316px;
  }
  
  [dir="ltr"] .ltr\:mr-4 {
    margin-right: 1rem;
  }
  
  [dir="rtl"] .rtl\:mr-\[316px\] {
    margin-right: 316px;
  }
  
  [dir="rtl"] .rtl\:ml-4 {
    margin-left: 1rem;
  }
}
