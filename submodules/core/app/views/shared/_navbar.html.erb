<!--px-8 py-5-->
<nav class="fixed w-[300px] top-0 bottom-0 ltr:left-0 rtl:right-0 bg-white drop-shadow-md">
  <div class="p-4">
    <%= link_to root_path do %>
      <%= image_tag("logo.png", width: 110) %>
    <% end %>
  </div>
  <div class="bg-gray-50 px-4 py-3 border-y border-gray-200">
    <%= link_to pages_path, class: "flex items-center ltr:space-x-2 rtl:space-x-reverse text-gray-600 hover:text-gray-900 mb-2 text-sm" do %>
      <i class="iconoir-nav-arrow-left text-lg"></i>
      <span><%= t('nav.back_to_workspace') %></span>
    <% end %>
    <div class="flex items-center justify-between">
      <div class="flex items-center ltr:space-x-2 rtl:space-x-reverse text-gray-900">
        <i class="iconoir-page-star text-lg"></i>
        <span class="font-medium"><%= @page.name %></span>
      </div>
      <a class="btn btn-square" target="_blank" href="<%= get_full_url(dynamic_prefix('')) %>">
        <i class="iconoir-internet text-xl text-gray-500 hover:text-primary"></i>
      </a>
    </div>
  </div>
  <div class="px-4 mt-3">
    <div class="mt-4">
      <div class="text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2">
        <%= t('nav.page_management') %>
      </div>
      <div class="font-medium text-base flex items-center flex-col gap-y-1">
        <%= link_to pages_posts_path, class: "w-full" do %>
          <div class="w-full flex items-center ltr:space-x-2 rtl:space-x-reverse p-2 cursor-pointer text-neutral rounded-lg hover:bg-gray-50 active:opacity-50 <%= "bg-primary-content hover:bg-primary-content" if controller_name == 'posts' %>">
            <i class="iconoir-post text-2xl"></i>
            <p>
              <%= t('nav.posts') %>
            </p>
          </div>
        <% end %>
        <%= link_to pages_categories_path, class: "w-full" do %>
          <div class="flex items-center ltr:space-x-2 rtl:space-x-reverse p-2 cursor-pointer rounded-lg text-neutral hover:bg-gray-50 active:opacity-50 <%= "bg-primary-content hover:bg-primary-content" if controller_name == 'categories' %>">
            <i class="iconoir-doc-star-in text-2xl"></i>
            <p>
              <%= t('nav.categories') %>
            </p>
          </div>
        <% end %>
      </div>
    </div>

    <div class="mt-4">
      <div class="text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2">
        <%= t('nav.page_settings') %>
      </div>
      <div class="font-medium text-base flex items-center flex-col gap-y-1">
        <% if WorkspaceAbility.new(current_user).can? :manage, @workspace %>
          <%= link_to pages_settings_path, class: "w-full" do %>
            <div class="flex items-center ltr:space-x-2 rtl:space-x-reverse p-2 cursor-pointer rounded-lg hover:bg-gray-50 text-neutral active:opacity-50 <%= "bg-primary-content hover:bg-primary-content" if current_page?(pages_settings_path) %>">
              <i class="iconoir-settings text-2xl"></i>
              <p><%= t('nav.settings') %></p>
            </div>
          <% end %>
        <% end %>
      </div>
    </div>
  </div>

  <div class="p-4 border-t border-gray-200 absolute bottom-2 w-full">
    <%= link_to new_pages_post_path(@page.name_slug), class: "w-full flex items-center justify-center ltr:space-x-2 rtl:space-x-reverse p-2 bg-primary text-white rounded-lg hover:bg-blue-700 transition-colors" do %>
      <i class="iconoir-plus text-xl"></i>
      <span><%= t('posts.new_post') %></span>
    <% end %>
  </div>

</nav>
